# FX-Commodity correlation arbitrage pair configurations

usdcad_wti:
  # Symbol definitions
  fx_symbol: "USDCAD=X"
  comd_symbol: "CL=F"  # WTI Crude Oil Futures
  comd: "WTI"  # Commodity identifier
  inverse_fx_for_quote_ccy_strength: true  # Inverse USD/CAD for CAD strength
  
  # Performance metrics
  min_trade_count: 10  # Minimum number of trades required for meaningful annualized metrics
  
  # Rolling metrics
  rolling_metrics:
    windows:
      "30D": 30
      "60D": 60
      "90D": 90
  
  # Lookback windows
  lookbacks:
    beta_window: 90      # Window for hedge ratio calculation
    z_window: 40         # Window for z-score calculation
    corr_window: 20      # Window for correlation calculation
    lookback: 252        # Lookback period for calculations
    vol_window: 20       # Volatility calculation window
  
  # Trading thresholds
  thresholds:
    entry_z: 2.0         # Stricter Z-score threshold for entry
    exit_z: 1.0          # Stricter Z-score threshold for exit
    stop_z: 3.5          # Z-score threshold for stop loss
    adf_p: 0.05          # ADF test p-value threshold
    min_abs_corr: 0.4    # Minimum absolute correlation threshold
  
  # Time stop
  time_stop:
    max_days: 20         # Maximum days to hold a position
  
  # Regime filter
  regime:
    min_abs_corr: 0.4    # Stricter minimum absolute correlation for trading
    volatility_window: 20 # Window for volatility regime detection
    high_vol_threshold: 0.02  # High volatility threshold
    low_vol_threshold: 0.003   # Low volatility threshold
    filter_extreme_vol: true   # Filter extreme volatility regimes
    trend_window: 20      # Window for trend regime detection
    trend_threshold: 0.015 # Trend threshold
    filter_strong_trend: true  # Filter strong trending regimes
    enable_hmm: true  # Enable HMM regime filter
    hmm:
      n_states: 3
      window: 126
      df: 5.0
      tol: 1e-3
      n_iter: 100
    vix:
      thresh: 20
      boost_factor: 0.2
      max_shift: 1
  
  # Regime features (new)
  regime_features:
    volatility_regime: true
    commodity_cycle: true
    vix_overlay: true
    yield_curve_overlay: false
    vpa: true
    liquidity_sweep: true
    trend_filters: true
    correlation_features: true
  
  # Position sizing
  sizing:
    atr_window: 20        # Window for ATR calculation
    target_vol_per_leg: 0.01  # Target volatility per leg (1%)
    profit_target: 2.0    # 2x ATR for profit targets
    stop_loss: 1.5        # 1.5x ATR for stop losses
    volatility_scaling_enabled: true  # Enable volatility scaling (new)
    target_volatility: 0.01  # Target volatility (1%) (new)
    max_position_size: 0.10  # Maximum position size (10% of portfolio) (new)
    
  # Execution costs
  exec:
    default_order_type: "market"
    costs:
      small_thresh: 0.01  # Equity fraction for small trades
      large_thresh: 0.05  # Equity fraction for large trades
      small_bps: 0.5      # Basis points for small trades
      large_bps: 2.0      # Basis points for large trades
      impact_coeff: 0.5   # Quadratic impact coefficient
  
  # Risk management
  risk:
    max_position_size: 0.10  # Maximum 10% of equity per pair
    max_daily_loss: 0.02     # Maximum 2% daily loss per pair
    max_weekly_loss: 0.05    # Maximum 5% weekly loss per pair
    daily_drawdown_limit: 0.02  # Maximum 2% daily drawdown per pair
    max_trade_risk: 0.01     # Maximum 1% of portfolio per trade
    enable_circuit_breaker: true  # Enable circuit breaker for this pair
  
  # Advanced options
  use_kalman: true       # Use Kalman filter for dynamic beta
  
  # Model diversification options
  model_diversification:
    enable_ensemble: true           # Enable ensemble model
    enable_ols: true               # Enable OLS model
    enable_kalman_model: true      # Enable Kalman model
    enable_correlation_model: true # Enable correlation model
    enable_gb_model: true          # Enable Gradient Boosting model
    enable_lstm_model: true        # Enable LSTM model
    model_weights:
      ols: 0.2
      kalman: 0.2
      corr: 0.2
      gb: 0.2
      lstm: 0.2
  
  # Event calendar (optional)
  calendar:
    event_blackouts: []  # List of event types to blacklist

usdnok_brent:
  # Symbol definitions
  fx_symbol: "USDNOK=X"
  comd_symbol: "BZ=F"  # Brent Crude Oil Futures
  comd: "BRENT"  # Commodity identifier
  inverse_fx_for_quote_ccy_strength: true  # Inverse USD/NOK for NOK strength
  
  # Performance metrics
  min_trade_count: 10  # Minimum number of trades required for meaningful annualized metrics
  
  # Rolling metrics
  rolling_metrics:
    windows:
      "30D": 30
      "60D": 60
      "90D": 90
  
  # Lookback windows
  lookbacks:
    beta_window: 90      # Window for hedge ratio calculation
    z_window: 40         # Window for z-score calculation
    corr_window: 20      # Window for correlation calculation
    lookback: 252        # Lookback period for calculations
    vol_window: 20       # Volatility calculation window
  
  # Trading thresholds
  thresholds:
    entry_z: 2.0         # Stricter Z-score threshold for entry
    exit_z: 1.0          # Stricter Z-score threshold for exit
    stop_z: 3.5          # Z-score threshold for stop loss
    adf_p: 0.05          # ADF test p-value threshold
    min_abs_corr: 0.4    # Minimum absolute correlation threshold
  
  # Time stop
  time_stop:
    max_days: 20         # Maximum days to hold a position
  
  # Regime filter
  regime:
    min_abs_corr: 0.4   # Stricter minimum absolute correlation for trading
    volatility_window: 20 # Window for volatility regime detection
    high_vol_threshold: 0.02  # High volatility threshold
    low_vol_threshold: 0.003   # Low volatility threshold
    filter_extreme_vol: true   # Filter extreme volatility regimes
    trend_window: 20      # Window for trend regime detection
    trend_threshold: 0.015 # Trend threshold
    filter_strong_trend: true  # Filter strong trending regimes
    enable_hmm: true  # Enable HMM regime filter
    hmm:
      n_states: 3
      window: 126
      df: 5.0
      tol: 1e-3
      n_iter: 100
    vix:
      thresh: 20
      boost_factor: 0.2
      max_shift: 1
  
  # Regime features (new)
  regime_features:
    volatility_regime: true
    commodity_cycle: true
    vix_overlay: true
    yield_curve_overlay: false
    vpa: true
    liquidity_sweep: true
    trend_filters: true
    correlation_features: true
  
  # Position sizing
  sizing:
    atr_window: 20        # Window for ATR calculation
    target_vol_per_leg: 0.01  # Target volatility per leg (1%)
    profit_target: 2.0    # 2x ATR for profit targets
    stop_loss: 1.5        # 1.5x ATR for stop losses
    volatility_scaling_enabled: true  # Enable volatility scaling (new)
    target_volatility: 0.01  # Target volatility (1%) (new)
    max_position_size: 0.10  # Maximum position size (10% of portfolio) (new)
  
  # Risk management
  risk:
    max_position_size: 0.10  # Maximum 10% of equity per pair
    max_daily_loss: 0.02     # Maximum 2% daily loss per pair
    max_weekly_loss: 0.05    # Maximum 5% weekly loss per pair
    daily_drawdown_limit: 0.02  # Maximum 2% daily drawdown per pair
    max_trade_risk: 0.01     # Maximum 1% of portfolio per trade
    enable_circuit_breaker: true  # Enable circuit breaker for this pair
  
  # Advanced options
  use_kalman: true       # Use Kalman filter for dynamic beta
  
  # Model diversification options
  model_diversification:
    enable_ensemble: true           # Enable ensemble model
    enable_ols: true               # Enable OLS model
    enable_kalman_model: true      # Enable Kalman model
    enable_correlation_model: true # Enable correlation model
    enable_gb_model: true          # Enable Gradient Boosting model
    enable_lstm_model: true        # Enable LSTM model
    model_weights:
      ols: 0.2
      kalman: 0.2
      corr: 0.2
      gb: 0.2
      lstm: 0.2
  
  # Event calendar (optional)
  calendar:
    event_blackouts: []  # List of event types to blacklist
# ================= Additional Pairs (added 2025-09-17) =================

audusd_gold:
  # Symbol definitions
  fx_symbol: "AUDUSD=X"
  comd_symbol: "GC=F"   # Gold Futures
  comd: "GOLD"
  inverse_fx_for_quote_ccy_strength: false  # AUD is base; keep as-is

  # Performance metrics
  min_trade_count: 10

  # Rolling metrics
  rolling_metrics:
    windows:
      "30D": 30
      "60D": 60
      "90D": 90

  # Lookback windows
  lookbacks:
    beta_window: 90
    z_window: 40
    corr_window: 20
    lookback: 252
    vol_window: 20

  # Trading thresholds
  thresholds:
    entry_z: 2.0
    exit_z: 1.0
    stop_z: 3.5
    adf_p: 0.05
    min_abs_corr: 0.4

  # Time stop
  time_stop:
    max_days: 20

  # Regime filter
  regime:
    min_abs_corr: 0.4
    volatility_window: 20
    high_vol_threshold: 0.02
    low_vol_threshold: 0.003
    filter_extreme_vol: true
    trend_window: 20
    trend_threshold: 0.015
    filter_strong_trend: true
    enable_hmm: true
    hmm:
      n_states: 3
      window: 126
      df: 5.0
      tol: 1e-3
      n_iter: 100
    vix:
      thresh: 20
      boost_factor: 0.2
      max_shift: 1

  # Regime features
  regime_features:
    volatility_regime: true
    commodity_cycle: true
    vix_overlay: true
    yield_curve_overlay: false
    vpa: true
    liquidity_sweep: true
    trend_filters: true
    correlation_features: true

  # Position sizing
  sizing:
    atr_window: 20
    target_vol_per_leg: 0.01
    profit_target: 2.0
    stop_loss: 1.5
    volatility_scaling_enabled: true
    target_volatility: 0.01
    max_position_size: 0.10

  # Execution costs
  exec:
    default_order_type: "market"
    costs:
      small_thresh: 0.01
      large_thresh: 0.05
      small_bps: 0.5
      large_bps: 2.0
      impact_coeff: 0.5

  # Risk management
  risk:
    max_position_size: 0.10
    max_daily_loss: 0.02
    max_weekly_loss: 0.05
    daily_drawdown_limit: 0.02
    max_trade_risk: 0.01
    enable_circuit_breaker: true

  # Advanced options
  use_kalman: true

  # Model diversification
  model_diversification:
    enable_ensemble: true
    enable_ols: true
    enable_kalman_model: true
    enable_correlation_model: true
    enable_gb_model: true
    enable_lstm_model: true
    model_weights:
      ols: 0.2
      kalman: 0.2
      corr: 0.2
      gb: 0.2
      lstm: 0.2

  # Event calendar (optional)
  calendar:
    event_blackouts: []

usdzar_platinum:
  fx_symbol: "USDZAR=X"
  comd_symbol: "PL=F"   # Platinum Futures
  comd: "PLATINUM"
  inverse_fx_for_quote_ccy_strength: true  # USD base; invert for ZAR strength

  min_trade_count: 10
  rolling_metrics: { windows: { "30D": 30, "60D": 60, "90D": 90 } }

  lookbacks: { beta_window: 90, z_window: 40, corr_window: 20, lookback: 252, vol_window: 20 }

  thresholds: { entry_z: 2.0, exit_z: 1.0, stop_z: 3.5, adf_p: 0.05, min_abs_corr: 0.4 }

  time_stop: { max_days: 20 }

  regime:
    min_abs_corr: 0.4
    volatility_window: 20
    high_vol_threshold: 0.02
    low_vol_threshold: 0.003
    filter_extreme_vol: true
    trend_window: 20
    trend_threshold: 0.015
    filter_strong_trend: true
    enable_hmm: true
    hmm: { n_states: 3, window: 126, df: 5.0, tol: 1e-3, n_iter: 100 }
    vix: { thresh: 20, boost_factor: 0.2, max_shift: 1 }

  regime_features:
    volatility_regime: true
    commodity_cycle: true
    vix_overlay: true
    yield_curve_overlay: false
    vpa: true
    liquidity_sweep: true
    trend_filters: true
    correlation_features: true

  sizing:
    atr_window: 20
    target_vol_per_leg: 0.01
    profit_target: 2.0
    stop_loss: 1.5
    volatility_scaling_enabled: true
    target_volatility: 0.01
    max_position_size: 0.10

  exec:
    default_order_type: "market"
    costs: { small_thresh: 0.01, large_thresh: 0.05, small_bps: 0.5, large_bps: 2.0, impact_coeff: 0.5 }

  risk:
    max_position_size: 0.10
    max_daily_loss: 0.02
    max_weekly_loss: 0.05
    daily_drawdown_limit: 0.02
    max_trade_risk: 0.01
    enable_circuit_breaker: true

  use_kalman: true

  model_diversification:
    enable_ensemble: true
    enable_ols: true
    enable_kalman_model: true
    enable_correlation_model: true
    enable_gb_model: true
    enable_lstm_model: true
    model_weights: { ols: 0.2, kalman: 0.2, corr: 0.2, gb: 0.2, lstm: 0.2 }

  calendar: { event_blackouts: [] }

usdclp_copper:
  fx_symbol: "USDCLP=X"
  comd_symbol: "HG=F"   # Copper Futures
  comd: "COPPER"
  inverse_fx_for_quote_ccy_strength: true

  min_trade_count: 10
  rolling_metrics: { windows: { "30D": 30, "60D": 60, "90D": 90 } }
  lookbacks: { beta_window: 90, z_window: 40, corr_window: 20, lookback: 252, vol_window: 20 }
  thresholds: { entry_z: 2.0, exit_z: 1.0, stop_z: 3.5, adf_p: 0.05, min_abs_corr: 0.4 }
  time_stop: { max_days: 20 }

  regime:
    min_abs_corr: 0.4
    volatility_window: 20
    high_vol_threshold: 0.02
    low_vol_threshold: 0.003
    filter_extreme_vol: true
    trend_window: 20
    trend_threshold: 0.015
    filter_strong_trend: true
    enable_hmm: true
    hmm: { n_states: 3, window: 126, df: 5.0, tol: 1e-3, n_iter: 100 }
    vix: { thresh: 20, boost_factor: 0.2, max_shift: 1 }

  regime_features:
    volatility_regime: true
    commodity_cycle: true
    vix_overlay: true
    yield_curve_overlay: false
    vpa: true
    liquidity_sweep: true
    trend_filters: true
    correlation_features: true

  sizing:
    atr_window: 20
    target_vol_per_leg: 0.01
    profit_target: 2.0
    stop_loss: 1.5
    volatility_scaling_enabled: true
    target_volatility: 0.01
    max_position_size: 0.10

  exec:
    default_order_type: "market"
    costs: { small_thresh: 0.01, large_thresh: 0.05, small_bps: 0.5, large_bps: 2.0, impact_coeff: 0.5 }

  risk:
    max_position_size: 0.10
    max_daily_loss: 0.02
    max_weekly_loss: 0.05
    daily_drawdown_limit: 0.02
    max_trade_risk: 0.01
    enable_circuit_breaker: true

  use_kalman: true
  model_diversification:
    enable_ensemble: true
    enable_ols: true
    enable_kalman_model: true
    enable_correlation_model: true
    enable_gb_model: true
    enable_lstm_model: true
    model_weights: { ols: 0.2, kalman: 0.2, corr: 0.2, gb: 0.2, lstm: 0.2 }
  calendar: { event_blackouts: [] }

usdmxn_wti:
  fx_symbol: "USDMXN=X"
  comd_symbol: "CL=F"   # WTI Crude Oil Futures
  comd: "WTI"
  inverse_fx_for_quote_ccy_strength: true

  min_trade_count: 10
  rolling_metrics: { windows: { "30D": 30, "60D": 60, "90D": 90 } }
  lookbacks: { beta_window: 90, z_window: 40, corr_window: 20, lookback: 252, vol_window: 20 }
  thresholds: { entry_z: 2.0, exit_z: 1.0, stop_z: 3.5, adf_p: 0.05, min_abs_corr: 0.4 }
  time_stop: { max_days: 20 }

  regime:
    min_abs_corr: 0.4
    volatility_window: 20
    high_vol_threshold: 0.02
    low_vol_threshold: 0.003
    filter_extreme_vol: true
    trend_window: 20
    trend_threshold: 0.015
    filter_strong_trend: true
    enable_hmm: true
    hmm: { n_states: 3, window: 126, df: 5.0, tol: 1e-3, n_iter: 100 }
    vix: { thresh: 20, boost_factor: 0.2, max_shift: 1 }

  regime_features:
    volatility_regime: true
    commodity_cycle: true
    vix_overlay: true
    yield_curve_overlay: false
    vpa: true
    liquidity_sweep: true
    trend_filters: true
    correlation_features: true

  sizing:
    atr_window: 20
    target_vol_per_leg: 0.01
    profit_target: 2.0
    stop_loss: 1.5
    volatility_scaling_enabled: true
    target_volatility: 0.01
    max_position_size: 0.10

  exec:
    default_order_type: "market"
    costs: { small_thresh: 0.01, large_thresh: 0.05, small_bps: 0.5, large_bps: 2.0, impact_coeff: 0.5 }

  risk:
    max_position_size: 0.10
    max_daily_loss: 0.02
    max_weekly_loss: 0.05
    daily_drawdown_limit: 0.02
    max_trade_risk: 0.01
    enable_circuit_breaker: true

  use_kalman: true
  model_diversification:
    enable_ensemble: true
    enable_ols: true
    enable_kalman_model: true
    enable_correlation_model: true
    enable_gb_model: true
    enable_lstm_model: true
    model_weights: { ols: 0.2, kalman: 0.2, corr: 0.2, gb: 0.2, lstm: 0.2 }
  calendar: { event_blackouts: [] }

usdbrl_soybeans:
  fx_symbol: "USDBRL=X"
  comd_symbol: "ZS=F"   # Soybeans Futures
  comd: "SOYBEANS"
  inverse_fx_for_quote_ccy_strength: true

  min_trade_count: 10
  rolling_metrics: { windows: { "30D": 30, "60D": 60, "90D": 90 } }
  lookbacks: { beta_window: 90, z_window: 40, corr_window: 20, lookback: 252, vol_window: 20 }
  thresholds: { entry_z: 2.0, exit_z: 1.0, stop_z: 3.5, adf_p: 0.05, min_abs_corr: 0.4 }
  time_stop: { max_days: 20 }

  regime:
    min_abs_corr: 0.4
    volatility_window: 20
    high_vol_threshold: 0.02
    low_vol_threshold: 0.003
    filter_extreme_vol: true
    trend_window: 20
    trend_threshold: 0.015
    filter_strong_trend: true
    enable_hmm: true
    hmm: { n_states: 3, window: 126, df: 5.0, tol: 1e-3, n_iter: 100 }
    vix: { thresh: 20, boost_factor: 0.2, max_shift: 1 }

  regime_features:
    volatility_regime: true
    commodity_cycle: true
    vix_overlay: true
    yield_curve_overlay: false
    vpa: true
    liquidity_sweep: true
    trend_filters: true
    correlation_features: true

  sizing:
    atr_window: 20
    target_vol_per_leg: 0.01
    profit_target: 2.0
    stop_loss: 1.5
    volatility_scaling_enabled: true
    target_volatility: 0.01
    max_position_size: 0.10

  exec:
    default_order_type: "market"
    costs: { small_thresh: 0.01, large_thresh: 0.05, small_bps: 0.5, large_bps: 2.0, impact_coeff: 0.5 }

  risk:
    max_position_size: 0.10
    max_daily_loss: 0.02
    max_weekly_loss: 0.05
    daily_drawdown_limit: 0.02
    max_trade_risk: 0.01
    enable_circuit_breaker: true

  use_kalman: true
  model_diversification:
    enable_ensemble: true
    enable_ols: true
    enable_kalman_model: true
    enable_correlation_model: true
    enable_gb_model: true
    enable_lstm_model: true
    model_weights: { ols: 0.2, kalman: 0.2, corr: 0.2, gb: 0.2, lstm: 0.2 }
  calendar: { event_blackouts: [] }